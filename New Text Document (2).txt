
DECLARE
CURSOR CUR_BASK IS
SELECT IDBASKET, DTCREATED, QUANTITY, SUBTOTAL
FROM BB_BASKET
WHERE IDSHOPPER = 26
AND ORDERPLACED = 0;
TYPE TYPE_BASK IS RECORD(
ID BB_BASKET.IDBASKET%TYPE,
DTCRT BB_BASKET.DTCREATED%TYPE,
QTY BB_BASKET.QUANTITY%TYPE,
SUB BB_BASKET.SUBTOTAL%TYPE);
REC_BASK TYPE_BASK;
LV_DAYS_NUM NUMBER(4);
BEGIN
OPEN CUR_BASK;
LOOP
FETCH CUR_BASK INTO REC_BASK;
EXIT WHEN CUR_BASK%NOTFOUND;
LV_DAYS_NUM := SYSDATE - REC_BASK.DTCRT;
DBMS_OUTPUT.PUT_LINE(REC_BASK.ID||'*'||REC_BASK.DTCRT);
END LOOP;
CLOSE CUR_BASK;
END;
